# 인터럽트 (Interrupt)

인터럽트는 CPU가 현재 실행 중인 작업을 잠시 멈추고, **긴급하게 처리해야 할 이벤트가 발생했음을 알리는 신호**입니다. 이 신호를 받으면 CPU는 현재의 제어권을 운영체제의 <b>인터럽트 핸들러(Interrupt Handler)</b>로 넘겨 해당 이벤트를 처리하고, 처리가 완료되면 원래 작업으로 복귀합니다. 이를 통해 시스템은 예측 불가능한 외부 이벤트나 내부 예외 상황에 효율적으로 대응하며 **비동기적 이벤트 처리**를 가능하게 합니다.

## 1. 인터럽트의 종류

인터럽트는 발생 원인에 따라 크게 두 가지로 나눌 수 있습니다.

### 1.1. 하드웨어 인터럽트 (Hardware Interrupt)

외부 장치(하드웨어)에 의해 발생하는 인터럽트입니다. CPU 외부에서 발생하는 이벤트에 의해 트리거됩니다.

*   **예시:**
    *   **I/O 완료:** 디스크에서 데이터 읽기/쓰기 완료, 네트워크 패킷 수신 완료.
    *   **타이머 만료:** 운영체제가 CPU 시간을 효율적으로 분배하기 위해 설정한 타이머가 만료될 때 발생.
    *   **키보드/마우스 입력:** 사용자로부터 키보드 입력이나 마우스 클릭/이동이 발생할 때.

### 1.2. 소프트웨어 인터럽트 (Software Interrupt) / 예외 (Exception)

프로그램 내부에서 발생하는 인터럽트입니다. 주로 프로그램의 오류나 운영체제 서비스 요청에 의해 발생합니다.

*   **예시:**
    *   **시스템 콜 (System Call):** 응용 프로그램이 운영체제의 서비스를 요청할 때 (예: 파일 열기, 메모리 할당).
    *   **예외 (Exception):** 0으로 나누기, 잘못된 메모리 접근(세그멘테이션 폴트), 오버플로우 등 프로그램 실행 중 발생하는 오류.

## 2. 인터럽트 처리 과정

인터럽트가 발생하면 CPU는 다음과 같은 과정을 거쳐 처리합니다.

1.  **현재 상태 저장:** CPU는 현재 실행 중이던 프로세스의 상태(레지스터 값, 프로그램 카운터 등)를 PCB(Process Control Block)에 저장합니다.
2.  **인터럽트 확인:** CPU는 <b>인터럽트 벡터 테이블(Interrupt Vector Table)</b>을 참조하여 발생한 인터럽트의 종류를 식별합니다.
3.  **인터럽트 핸들러 실행:** 해당 인터럽트 유형에 맞는 인터럽트 핸들러(ISR, Interrupt Service Routine)가 실행되어 이벤트를 처리합니다.
4.  **상태 복원 및 복귀:** 인터럽트 처리가 완료되면, CPU는 저장했던 프로세스의 상태를 복원하고 원래 실행 중이던 지점으로 복귀하여 작업을 재개합니다.

## 3. 게임 개발에서의 인터럽트 활용

게임은 실시간 사용자 입력과 정교한 타이밍 제어가 필수적이므로, 인터럽트 메커니즘은 게임의 반응성과 성능에 핵심적인 역할을 합니다.

*   **실시간 입력 처리:** 키보드, 마우스, 게임패드 등 사용자 입력 장치에서 발생하는 인터럽트는 게임 엔진이 플레이어의 조작을 즉시 감지하고 게임 로직에 반영할 수 있도록 합니다. 이는 게임의 반응성을 결정하는 중요한 요소입니다.
*   **정확한 타이밍 및 물리 시뮬레이션:** 타이머 인터럽트는 게임 루프의 고정된 업데이트 주기(Fixed Update)를 구현하거나, 물리 엔진의 시뮬레이션 단계를 제어하는 데 사용됩니다. 이를 통해 게임 내 시간 흐름과 물리 계산의 정확성을 유지할 수 있습니다.
*   **I/O 완료 알림:** 게임 자원(텍스처, 모델, 사운드) 로딩과 같은 디스크 I/O 작업이 완료되었을 때 발생하는 인터럽트는 게임 엔진이 다음 작업을 시작하거나 로딩 화면을 전환하는 등의 비동기적 처리를 가능하게 합니다. 이는 게임의 로딩 시간을 효율적으로 관리하는 데 기여합니다.
*   **네트워크 이벤트 처리:** 멀티플레이어 게임에서 네트워크 패킷 수신 시 발생하는 인터럽트는 게임 클라이언트나 서버가 새로운 데이터를 즉시 처리하고 게임 상태를 업데이트할 수 있도록 합니다.

게임 개발자는 인터럽트의 동작 방식을 이해하고, 인터럽트 처리 루틴의 효율성을 최적화하여 게임의 실시간 성능과 안정성을 확보해야 합니다.

---